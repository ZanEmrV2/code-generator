CREATE TABLE <%=tableName%>
(
id                BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
uuid              UUID                                    NOT NULL,

<%_ fields.forEach(function(f){ _%>
    <%_ if(f.name != 'id' &&  f.name != 'uuid') { _%>
        <%_ var type = 'VARCHAR(255)';
           if (f.dbType.includes('bigint') || f.relation !=null && f.relation.includes('mt1')) {
              type = 'BIGINT'
            }
            if(f.relation ==null && f.dbType.includes('integer')) {
                 type = 'INTEGER'
             }
            if( f.dbType.includes('numeric')) {
                type = 'NUMERIC(12,2)'
            }
            if (f.dbType.includes('text')) {
                type = 'TEXT'
            }
        _%>
      <%= f.name %> <%= type %> <%=  (f.validations !== undefined && f.validations.includes('required')) ? 'NOT NULL' : '' %> ,
    <%_ } _%>
<%_ }); _%>

created_at        TIMESTAMP WITHOUT TIME ZONE,
created_by        VARCHAR(255),
updated_at        TIMESTAMP WITHOUT TIME ZONE,
updated_by        VARCHAR(255),
deleted_at        TIMESTAMP WITHOUT TIME ZONE,
deleted_by        VARCHAR(255),
CONSTRAINT pk_<%=tableName%> PRIMARY KEY (id),
CONSTRAINT uc_<%=tableName%>_uuid UNIQUE (uuid)

<%_ relations.forEach(function(r){ _%>
    <%_ if (r.type === 'mt1') { _%>
      ,CONSTRAINT FK_<%=tableName%>_ON_<%=r.rlTableName%> FOREIGN KEY (<%=r.name%>) REFERENCES <%=r.rlTableName%> (id)
   <%_ } _%>
<%_ }); _%>

);
